
<section fxLayout="row wrap" fxLayoutAlign="center center"  class="section" >
  <mat-card fxFlex="1000px" fxFlex.xs="50%" style="background-color: black">
           
    <mat-horizontal-stepper labelPosition="bottom" linear style="height: 100%">
         <mat-step [stepControl]="firstForm" >
             <form #viewerForm="ngForm" [formGroup]="firstFormGroup"  class="form-horizontal form1" (ngSubmit)="onFirstSubmit(firstFormGroup.value)">
               <ng-template matStepLabel><span class="headingStyle">Series Details</span></ng-template>
                    <mat-card class="example-card first-card" style="padding-bottom: 20px;" >
                       <mat-card-content class="content"  >
                         <div class="container">
                            <div class="row" id="language">
                               <div class="col-5">
                                 <label>Language</label> 
                               </div> 
                                <div class="col-7">
                                      <select class="selectpicker" class="form-control" #crewRole formControlName="episodeLanguage" width="150px" data-size="5" data-width="fit">
                                          <option value="Hindi">Hindi</option>
                                          <option value="Telugu">Telugu</option>
                                          <option value="Tamil">Tamil</option>
                                          <option value="Marati">Marati</option>
                                          <option value="English">English</option>
                                          <option value="Gujarathi">Gujarathi</option>
                                         <option value="Bengali">Bengali</option>
                                       </select>
                                 </div> 
                            </div>
                          <br><br>
                            <div class="row">
                                <div class="col-5" id="poster">
                                 <label >Poster</label> 
                                </div> 
                                <div class="col-7" id="input">      
                                  <input type="text" rows="1" cols="20" class="form-control" #episodePoster formControlName="episodePoster">                    
                                </div>
                            </div>
                          <br><br>
                            <div class="row">
                                <div class="col-5" id="type">
                                  <label >Type</label>
                                </div> 
                                <div class="col-7" id="input1">
                                    <select class="form-control"  required formControlName="episodeType" >
                                      <option value="free">Free</option>
                                      <option value="premium">Premium</option>
                                    </select>
                                </div> 
                            </div>
                            </div> 
                       </mat-card-content> 
                    <button mat-stroked-button matStepperNext [disabled]="!firstFormGroup.valid" >Next</button>
                  </mat-card>   
             </form>
          </mat-step>

      <!-- first mat-step-->
          <mat-step [stepControl]="secondForm">
              <form #viewerForm="ngForm" [formGroup]="secondFormGroup" (ngSubmit)="onSecondSubmit(secondFormGroup.value)" class="form-horizontal" >
                <ng-template matStepLabel><span class="headingStyle">Cast & Crew</span></ng-template>
                  <mat-card class="example-card"> 
                      <mat-card-content class="content">
                          <div class="container1">
                              <div class="row" id="StudioDetails">
                                  <div class="col-3" id="studioName">
                                    <label>Studio Name</label>
                                  </div>
                                  <div class="col-8" id="input4">
                                      <input class="form-control" type="text" formControlName="EpisodeStudioName"   required>
                                        <mat-error *ngFor="let validation of validation_messages.EpisodeStudioName">
                                        <mat-error class="error-message" *ngIf="firstFormGroup.get('EpisodeStudioName').hasError(validation.type) && (firstFormGroup.get('EpisodeStudioName').dirty ||firstFormGroup.get('EpisodeStudioName').touched)">{{validation.message}}
                                        </mat-error>
                                        </mat-error>
                                  </div>
                              </div><br><br>
                              <div class="row">
                                  <label style="font-weight: bold; margin-left:30px; margin-top: 5px">Crew</label>
                              </div>
                                <br><br>
                              <div class="row">
                                  <div class="col-4 name" id="name">
                                    <div>Name</div>
                                  </div>
                                  <div class="col-5 role" id="role">
                                    <div>Role</div>
                                  </div>
                              </div>
                                <form #viewerForm="ngForm" [formGroup]="sixthFormGroup"  class="form-horizontal sixseven" style="margin-left: 0px; margin-right: 0px; margin-top: -50px"  >
                                    <div class="row">
                                    <!-- <div class="col-3"></div> -->
                                  <div class="col-4" id="input2">
                                    <!-- <mat-form-field> -->
                                      <!-- <input class="form-control" type="text" #crewName formControlName="crewName" placeholder="new" matInput> -->
                                      <input type="text" rows="1" cols="20" class="form-control" #crewName formControlName="crewName">
                                      <mat-error *ngFor="let validation of validation_messages.crewName">
                                      <mat-error class="error-message" *ngIf="secondFormGroup.get('crewName').hasError(validation.type) && (secondFormGroup.get('crewName').dirty || secondFormGroup.get('crewName').touched)">{{validation.message}}
                                      </mat-error>
                                      </mat-error>
                                    <!-- </mat-form-field>        -->
                                  </div>
                                  <div class="col-4" id="input3">
                                    <!-- <mat-form-field> -->
                                      <!-- <select matNativeControl #crewRole class="form-control" formControlName="crewRole" data-width="fit"> -->
                                          <select class="selectpicker" class="form-control" #crewRole formControlName="crewRole" width="150px" data-size="5" data-width="fit">
                                          <option value="director">Director</option>
                                          <option value="producer">Producer</option>
                                          <option value="writer">Writer</option>
                                          <option value="music">Music</option>
                                      </select>
                                    <!-- </mat-form-field> -->
                                  </div>
                                  </div><br>
                                  <div class="row">
                                      <button type="submit" (click)="addCrew(crewName.value,crewRole.value)" class="addButton"
                                      >Add</button>
                                  </div>
                                
                                </form><br>
                                <ul>
                                    <li>
                                      <table  *ngFor="let crew of crewList">
                                        <tr>
                                            <td width="300px">
                                              {{crew.crewName}}  {{crew.crewRole}}
                                            </td>
                                            <td width="90px">
                                              <button (click)="deleteCrew(crew.crewName,crew.crewRole)">Delete</button>
                                            </td>
                                        </tr>
                                      </table>
                                    </li>
                                  </ul>
                              <div class="row">
                                  <label style="font-weight: bold; margin-left:30px; margin-top: 5px ">Cast</label>
                               </div><br><br>
                              <div class="row">
                                <div class="col-5 screenName" id="screenName">
                                  <div>Screen Name</div>
                                </div>
                                
                                <div class="col-3 realName" id="realName">
                                  <div>Real Name</div>
                                </div>
                              </div>
                              <!-- background-color: rgb(104, 230, 230);  -->
                              <form #viewerForm="ngForm" [formGroup]="seventhFormGroup"  class="form-horizontal sixseven"  style="margin-left: 0px; margin-right: 0px; margin-top: -50px" >
                                  <div class="row">
                                    <div class="col-4" id="input5">
                                      <!-- <mat-form-field>   -->
                                        <input class="form-control" type="text" rows="1" cols="20" #screenName formControlName="screenName" >
                                            <mat-error *ngFor="let validation of validation_messages.screenName">
                                            <mat-error class="error-message" *ngIf="secondFormGroup.get('screenName').hasError(validation.type) && (secondFormGroup.get('screenName').dirty ||secondFormGroup.get('screenName').touched)">{{validation.message}}
                                            </mat-error>
                                            </mat-error>
                                    </div>
                                    <div class="col-4" id="input6">
                                        <input class="form-control" type="text" #realName formControlName="realName" >
                                        <mat-error *ngFor="let validation of validation_messages.realName">
                                        <mat-error class="error-message" *ngIf="secondFormGroup.get('realName').hasError(validation.type) && (secondFormGroup.get('realName').dirty || secondFormGroup.get('realName').touched)">{{validation.message}}
                                        </mat-error>
                                        </mat-error>
                                    </div>
                                  </div><br>
                                  <div class="row">
                                    <button type="submit" (click)="addCast(screenName.value,realName.value)" class="addButton">Add</button>
                                  </div>
                              </form><br>
                              <ul>
                                  <li>
                                    <table *ngFor="let cast of castList">
                                      <tr>
                                        <td width="300px">
                                          {{cast.screenName}}  {{cast.realName}}
                                        </td>
                                    <td width="90px">
                                    <button (click)="deleteCast(cast.screenName,cast.realName)">Delete</button>
                                    </td>
                                    </tr>
                                  </table>
                                 </li>
                               </ul><br>
                            </div><br>
                        </mat-card-content><br>
                    <button mat-stroked-button matStepperPrevious >Back</button>
                    <button mat-stroked-button matStepperNext  [disabled]="!secondFormGroup.valid" >Next</button>
                  </mat-card>
              </form>
          </mat-step>
    <!--end second form group-->

    <mat-step [stepControl]="thirdForm">
    <form #viewerForm="ngForm" [formGroup]="thirdFormGroup"  class="form-horizontal form3"  (ngSubmit)="onThirdSubmit(thirdFormGroup.value)">
      <ng-template matStepLabel><span class="headingStyle">Episode Details</span></ng-template>
        <mat-card class="example-card">
          <mat-card-content class="content">
                 <div class="container2">
                    <form #viewerForm="ngForm" [formGroup]="eightFormGroup"  class="form-horizontal eight" style="margin-left: 0px; margin-right: 0px; margin-top: -50px">
                   <div class="row">
                     <div class="col-5" id="episodeNumber">
                       <label >Episode Number</label> </div> 
                    <div class="col-7" id="input7">
                          <input class="form-control" type="number" #episodeNo name="episodeNo" formControlName="episodeNo" required>
                     </div> 
                   </div> 
                   <br><br>
                   <div class="row">
                      <div class="col-5" id="videoFile">
                         <label>Video File</label>
                      </div> 
                      <div class="col-4" id="input8">
                          <input class="aligns" type="file" #episodeUrl formControlName="episodeUrl" (change)="selectVideo($event)"
                          accept="video/*">
                          </div>
                          <div class="col-3" id="upload">
                            <button mat-raised-button (click)="uploadVideo()" [disabled]="!selectedVideo">Upload</button>
                     </div> 
                  </div>  
                <br><br>
                   <div class="row">
                      <div class="col-5" id="description">
                            <label>Description</label>
                      </div> 
                      <div class="col-7" id="input9">
                          <input class="form-control"  #episodeDescription type="text" name="posterDescription" formControlName="episodeDescription" required>
                      </div> 
                   </div> 
                 <br><br>
                     <div class="row">
                        <div class="col-5" id="poster1">
                         <label>Poster</label>
                     </div> 
                     <div class="col-7" id="input10">
                           <input class="form-control" #episodePosterUrl type="text" name="posterUrl" formControlName="episodePosterUrl" required>
                     </div>  
                  </div> 
                <br>
                  <div class="row">
                        <div class="col-5" id="releaseDate">
                           <label>Release Date</label> 
                        </div> 
                        <div class="col-7" id="date">
                        <mat-form-field>
                              <input matInput [matDatepicker]="picker" placeholder="Choose a date" #episodeReleaseDate formControlName="episodeReleaseDate" >
                              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                              <mat-datepicker #picker></mat-datepicker>
                         </mat-form-field>
                         </div> 
                         </div>
                         <div class="row" id="submit1">
                            <button type="submit" (click)="addEpisode(episodeNo.value,episodeUrl.value,episodeDescription.value,episodePosterUrl.value,episodeReleaseDate.value)">Add</button>
                        </div>
                         </form>                   
                    </div>
                    <ul>
                      <li>
                        <table *ngFor="let episode of episodePreview" id="episodeList">
                          <tr>
                            <td>
                              {{episode.episodeNo}}
                            </td>
                            <td>
                              {{episode.episodeUrl}}
                            </td>
                            <td>
                              {{episode.episodeDescription}}
                            </td>
                            <td>
                              {{episode.episodePosterUrl}}
                            </td>
                            <td>
                              {{episode.episodeReleaseDate}}
                            </td>
                        <td>
                        <button (click)="deleteEpisode(episode.episodeNo,episode.episodeUrl,episode.episodeDescription,episode.episodePosterUrl,episode.episodeReleaseDate)">Delete</button>
                        </td>
                        </tr>
                      </table>
                     </li>
                   </ul>
               </mat-card-content>
              <button mat-stroked-button matStepperPrevious>Back</button>&nbsp;                      
            <button mat-stroked-button matStepperNext>Next</button>
           </mat-card> 
         </form><br>
       </mat-step> 
       <mat-step [stepControl]="fourthForm">
          <form #viewerForm="ngForm" class="form-horizontal" style="height: 100%">
              <ng-template matStepLabel><span class="headingStyle">Status</span></ng-template>
              <mat-card class="example-card">
                  <mat-card-content class="content">
                      <div class="container3">
                        <h3>Thank you!</h3>
                        <br>
                        <p>Successfully uploaded</p>
                        </div>
                       </mat-card-content>
                    <button mat-stroked-button matStepperPrevious>Back</button>
                    <button type="submit" (click)="saveMedia()" mat-stroked-button matStepperNext>Publish</button>
              </mat-card>    
          </form>
       </mat-step>    
     </mat-horizontal-stepper>       
    </mat-card>
  </section>